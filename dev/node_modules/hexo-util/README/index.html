<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>hexo-util · FRGRealTime.jl</title><link rel="canonical" href="https://Yangyang-Tan.github.io/FRGRealTime.jl/node_modules/hexo-util/README/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">FRGRealTime.jl</span></div><form class="docs-search" action="../../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><a class="tocitem" href="../../../markdown/Example/">Example</a></li><li><a class="tocitem" href="../../../markdown/NumericalTricks/">Numerical Tricks</a></li><li><a class="tocitem" href="../../../markdown/Check/">Check</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>hexo-util</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>hexo-util</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Yangyang-Tan/FRGRealTime.jl/blob/master/docs/src/node_modules/hexo-util/README.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="hexo-util"><a class="docs-heading-anchor" href="#hexo-util">hexo-util</a><a id="hexo-util-1"></a><a class="docs-heading-anchor-permalink" href="#hexo-util" title="Permalink"></a></h1><p><a href="https://github.com/hexojs/hexo-util/actions?query=workflow%3ATester"><img src="https://github.com/hexojs/hexo-util/workflows/Tester/badge.svg?branch=master" alt="Build Status"/></a> <a href="https://www.npmjs.com/package/hexo-util"><img src="https://badge.fury.io/js/hexo-util.svg" alt="NPM version"/></a> <a href="https://coveralls.io/github/hexojs/hexo-util?branch=master"><img src="https://coveralls.io/repos/hexojs/hexo-util/badge.svg?branch=master&amp;service=github" alt="Coverage Status"/></a> <a href="https://david-dm.org/hexojs/hexo-util"><img src="https://david-dm.org/hexojs/hexo-util/status.svg" alt="dependencies Status"/></a> <a href="https://david-dm.org/hexojs/hexo-util?type=dev"><img src="https://david-dm.org/hexojs/hexo-util/dev-status.svg" alt="devDependencies Status"/></a></p><p>Utilities for [Hexo].</p><h2 id="Table-of-contents"><a class="docs-heading-anchor" href="#Table-of-contents">Table of contents</a><a id="Table-of-contents-1"></a><a class="docs-heading-anchor-permalink" href="#Table-of-contents" title="Permalink"></a></h2><ul><li><a href="#installation">Installation</a></li><li><a href="#usage">Usage</a></li><li><a href="#cache">Cache</a></li><li><a href="#cachestream">CacheStream</a></li><li><a href="#camelcasekeysobj-options">camelCaseKeys</a></li><li><a href="#createsha1hash">createSha1Hash</a></li><li><a href="#decodeurlstr">decodeURL</a></li><li><a href="#deepmergetarget-source">deepMerge</a></li><li><a href="#encodeurlstr">encodeURL</a></li><li><a href="#escapediacriticstr">escapeDiacritic</a></li><li><a href="#escapehtmlstr">escapeHTML</a></li><li><a href="#escaperegexstr">escapeRegex</a></li><li><a href="#full_url_forpath">full<em>url</em>for</a></li><li><a href="#gravatarstr-options">gravatar</a></li><li><a href="#hashstr">hash</a></li><li><a href="#highlightstr-options">highlight</a></li><li><a href="#htmltagtag-attrs-text-escape">htmlTag</a></li><li><a href="#isexternallinkurl-sitehost-exclude">isExternalLink</a></li><li><a href="#patternrule">Pattern</a></li><li><a href="#permalinkrule-options">Permalink</a></li><li><a href="#prettyurlsurl-options">prettyUrls</a></li><li><a href="#prismhighlightstr-options">prismHighlight</a></li><li><a href="#relative_urlfrom-to">relative_url</a></li><li><a href="#slugizestr-options">slugize</a></li><li><a href="#spawncommand-args-options">spawn</a></li><li><a href="#striphtmlstr">stripHTML</a></li><li><a href="#wordwrapstr-options">wordWrap</a></li><li><a href="#tocobjstr-options">tocObj</a></li><li><a href="#truncatestr-options">truncate</a></li><li><a href="#unescapehtmlstr">unescapeHTML</a></li><li><a href="#url_forpath-option">url_for</a></li><li><a href="#bindhexo">bind(hexo)</a></li></ul><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><pre><code class="language-bash">$ npm install hexo-util --save</code></pre><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><pre><code class="language-js">var util = require(&#39;hexo-util&#39;);</code></pre><h3 id="Cache()"><a class="docs-heading-anchor" href="#Cache()">Cache()</a><a id="Cache()-1"></a><a class="docs-heading-anchor-permalink" href="#Cache()" title="Permalink"></a></h3><p>A simple plain object cache</p><pre><code class="language-js">const cache = new Cache();

// set(key, value)
cache.set(&#39;foo&#39;, &#39;bar&#39;);

// get(key) =&gt; value
cache.get(&#39;foo&#39;);
// &#39;bar&#39;

// has(key) =&gt; Boolean
cache.has(&#39;foo&#39;);
// true
cache.has(&#39;bar&#39;);
// false

// apply(key. value)
cache.apply(&#39;baz&#39;, () =&gt; 123);
// 123
cache.apply(&#39;baz&#39;, () =&gt; 456);
// 123
cache.apply(&#39;qux&#39;, 456);
// 456
cache.apply(&#39;qux&#39;, &#39;789&#39;);
// 456

// size()
cache.size();
// 3

// dump()
cache.dump();
/*
{
  foo: &#39;bar&#39;,
  baz: 123,
  qux: 456
}
*/

// del(key)
cache.del(&#39;baz&#39;);
cache.has(&#39;baz&#39;);
// false

// flush()
cache.flush();
cache.has(&#39;foo&#39;);
// false
cache.size();
// 0</code></pre><h3 id="CacheStream()"><a class="docs-heading-anchor" href="#CacheStream()">CacheStream()</a><a id="CacheStream()-1"></a><a class="docs-heading-anchor-permalink" href="#CacheStream()" title="Permalink"></a></h3><p>Caches contents piped to the stream.</p><pre><code class="language-js">var stream = new CacheStream();

fs.createReadStream(&#39;/path/to/file&#39;).pipe(stream);

stream.on(&#39;finish&#39;, function(){
  // Read cache piped to the stream
  console.log(stream.getCache());

  // Destroy cache
  stream.destroy();
});</code></pre><h3 id="camelCaseKeys(obj,-options)"><a class="docs-heading-anchor" href="#camelCaseKeys(obj,-options)">camelCaseKeys(obj, options)</a><a id="camelCaseKeys(obj,-options)-1"></a><a class="docs-heading-anchor-permalink" href="#camelCaseKeys(obj,-options)" title="Permalink"></a></h3><p>Convert object keys to camelCase. Original keys will be converted to getter/setter and sync to the camelCase keys.</p><pre><code class="language-js">camelCaseKeys({
  foo_bar: &#39;test&#39;
});
// { fooBar: &#39;test&#39;, foo_bar: &#39;test&#39; }</code></pre><h3 id="createSha1Hash()"><a class="docs-heading-anchor" href="#createSha1Hash()">createSha1Hash()</a><a id="createSha1Hash()-1"></a><a class="docs-heading-anchor-permalink" href="#createSha1Hash()" title="Permalink"></a></h3><p>return SHA1 hash object.  This is the same as calling <code>createHash(&#39;utf8&#39;)</code> in the node.js native module crypto.</p><pre><code class="language-js">const sha1 = createSha1Hash();
 fs.createReadStream(&#39;/path/to/file&#39;)
  .pipe(sha1)
  .on(&#39;finish&#39;, () =&gt; {
    console.log(sha1.read());
  });</code></pre><h3 id="decodeURL(str)"><a class="docs-heading-anchor" href="#decodeURL(str)">decodeURL(str)</a><a id="decodeURL(str)-1"></a><a class="docs-heading-anchor-permalink" href="#decodeURL(str)" title="Permalink"></a></h3><p>Decode <a href="https://en.wikipedia.org/wiki/Percent-encoding">encoded</a> URL or path. An alternative to the native <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURI"><code>decodeURI()</code></a> function, with added ability to decode <a href="https://en.wikipedia.org/wiki/Punycode">punycoded</a> domain.</p><pre><code class="language-js">decodeURL(&#39;http://foo.com/b%C3%A1r&#39;)
// http://foo.com/bár

decodeURL(&#39;http://xn--br-mia.com/baz&#39;)
// http://bár.com/baz

decodeURL(&#39;/foo/b%C3%A1r/&#39;)
// /foo/bár/

/* Alternatively, Node 10+ offers native API to decode punycoded domain */
const {format} = require(&#39;url&#39;)
decodeURI(format(new URL(&#39;http://xn--br-mia.com.com/b%C3%A1r&#39;), {unicode: true}))
// http://bár.com/báz</code></pre><h3 id="deepMerge(target,-source)"><a class="docs-heading-anchor" href="#deepMerge(target,-source)">deepMerge(target, source)</a><a id="deepMerge(target,-source)-1"></a><a class="docs-heading-anchor-permalink" href="#deepMerge(target,-source)" title="Permalink"></a></h3><p>Merges the enumerable properties of two objects deeply. <code>target</code> and <code>source</code> remain untouched.</p><pre><code class="language-js">// Merge deeply
const obj1 = {a: {b: 1, c: 1, d: {e: 1, f: 1}}};
const obj2 = {a: {b: 2, d: {f: &#39;f&#39;} }};

deepMerge(obj1, obj2);
// {a: {b: 2, c: 1, d: {e: 1, f: &#39;f&#39;} }}</code></pre><pre><code class="language-js">// Arrays will be combined in the same property, similar to lodash.merge
const obj1 = { &#39;a&#39;: [{ &#39;b&#39;: 2 }, { &#39;d&#39;: 4 }] };
const obj2 = { &#39;a&#39;: [{ &#39;c&#39;: 3 }, { &#39;e&#39;: 5 }] };

deepMerge(obj1, obj2);
// { &#39;a&#39;: [{ &#39;b&#39;: 2, &#39;c&#39;: 3 }, { &#39;d&#39;: 4, &#39;e&#39;: 5 }] };</code></pre><h3 id="encodeURL(str)"><a class="docs-heading-anchor" href="#encodeURL(str)">encodeURL(str)</a><a id="encodeURL(str)-1"></a><a class="docs-heading-anchor-permalink" href="#encodeURL(str)" title="Permalink"></a></h3><p>Encode URL or path into a <a href="https://en.wikipedia.org/wiki/Percent-encoding">safe format</a>.</p><pre><code class="language-js">encodeURL(&#39;http://foo.com/bár&#39;)
// http://foo.com/b%C3%A1r

encodeURL(&#39;/foo/bár/&#39;)
// /foo/b%C3%A1r/</code></pre><h3 id="escapeDiacritic(str)"><a class="docs-heading-anchor" href="#escapeDiacritic(str)">escapeDiacritic(str)</a><a id="escapeDiacritic(str)-1"></a><a class="docs-heading-anchor-permalink" href="#escapeDiacritic(str)" title="Permalink"></a></h3><p>Escapes diacritic characters in a string.</p><h3 id="escapeHTML(str)"><a class="docs-heading-anchor" href="#escapeHTML(str)">escapeHTML(str)</a><a id="escapeHTML(str)-1"></a><a class="docs-heading-anchor-permalink" href="#escapeHTML(str)" title="Permalink"></a></h3><p>Escapes HTML entities in a string.</p><pre><code class="language-js">escapeHTML(&#39;&lt;p&gt;Hello &quot;world&quot;.&lt;/p&gt;&#39;)
// &amp;lt;p&amp;gt;Hello &amp;quot;world&amp;quot;.&amp;lt;&amp;#x2F;p&amp;gt;

/* support escaped characters */
escapeHTML(&#39;&amp;lt;foo&gt;bar&lt;/foo&amp;gt;&#39;)
// &amp;lt;foo&amp;gt;bar&amp;lt;&amp;#x2F;foo&amp;gt;</code></pre><h3 id="escapeRegex(str)"><a class="docs-heading-anchor" href="#escapeRegex(str)">escapeRegex(str)</a><a id="escapeRegex(str)-1"></a><a class="docs-heading-anchor-permalink" href="#escapeRegex(str)" title="Permalink"></a></h3><p>Escapes special characters in a regular expression.</p><h3 id="full*url*for(path)"><a class="docs-heading-anchor" href="#full*url*for(path)">full<em>url</em>for(path)</a><a id="full*url*for(path)-1"></a><a class="docs-heading-anchor-permalink" href="#full*url*for(path)" title="Permalink"></a></h3><p>Returns a url with the config.url prefixed. Output is <a href="#encodeurlstr">encoded</a> automatically. Requires <a href="#bindhexo"><code>bind(hexo)</code></a>.</p><pre><code class="language-yml">_config.yml
url: https://example.com/blog # example</code></pre><pre><code class="language-js">full_url_for(&#39;/a/path&#39;)
// https://example.com/blog/a/path</code></pre><h3 id="gravatar(str,-[options])"><a class="docs-heading-anchor" href="#gravatar(str,-[options])">gravatar(str, [options])</a><a id="gravatar(str,-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#gravatar(str,-[options])" title="Permalink"></a></h3><p>Returns the gravatar image url from an email.</p><p>If you didn&#39;t specify the [options] parameter, the default options will apply. Otherwise, you can set it to a number which will then be passed on as the size parameter to Gravatar. Finally, if you set it to an object, it will be converted into a query string of parameters for Gravatar.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>s</code></td><td style="text-align: right">Output image size</td><td style="text-align: right">80</td></tr><tr><td style="text-align: right"><code>d</code></td><td style="text-align: right">Default image</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>f</code></td><td style="text-align: right">Force default</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>r</code></td><td style="text-align: right">Rating</td><td style="text-align: right"></td></tr></table><p>More info: <a href="https://en.gravatar.com/site/implement/images/">Gravatar</a></p><pre><code class="language-js">gravatar(&#39;a@abc.com&#39;)
// https://www.gravatar.com/avatar/b9b00e66c6b8a70f88c73cb6bdb06787
gravatar(&#39;a@abc.com&#39;, 40)
// https://www.gravatar.com/avatar/b9b00e66c6b8a70f88c73cb6bdb06787?s=40
gravatar(&#39;a@abc.com&#39; {s: 40, d: &#39;https://via.placeholder.com/150&#39;})
// https://www.gravatar.com/avatar/b9b00e66c6b8a70f88c73cb6bdb06787?s=40&amp;d=https%3A%2F%2Fvia.placeholder.com%2F150</code></pre><h3 id="hash(str)"><a class="docs-heading-anchor" href="#hash(str)">hash(str)</a><a id="hash(str)-1"></a><a class="docs-heading-anchor-permalink" href="#hash(str)" title="Permalink"></a></h3><p>Generates SHA1 hash.</p><pre><code class="language-js">hash(&#39;123456&#39;);
// &lt;Buffer 7c 4a 8d 09 ca 37 62 af 61 e5 95 20 94 3d c2 64 94 f8 94 1b&gt;</code></pre><h3 id="highlight(str,-[options])"><a class="docs-heading-anchor" href="#highlight(str,-[options])">highlight(str, [options])</a><a id="highlight(str,-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#highlight(str,-[options])" title="Permalink"></a></h3><p>Syntax highlighting for a code block.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>gutter</code></td><td style="text-align: right">Whether to show line numbers</td><td style="text-align: right">true</td></tr><tr><td style="text-align: right"><code>wrap</code></td><td style="text-align: right">Whether to wrap the code block in <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table"><code>&lt;table&gt;</code></a></td><td style="text-align: right">true</td></tr><tr><td style="text-align: right"><code>firstLine</code></td><td style="text-align: right">First line number</td><td style="text-align: right">1</td></tr><tr><td style="text-align: right"><code>hljs</code></td><td style="text-align: right">Whether to use the <code>hljs-*</code> prefix for CSS classes</td><td style="text-align: right">false</td></tr><tr><td style="text-align: right"><code>lang</code></td><td style="text-align: right">Language</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>caption</code></td><td style="text-align: right">Caption</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>tab</code></td><td style="text-align: right">Replace tabs</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>autoDetect</code></td><td style="text-align: right">Detect language automatically (warning: slow)&lt;br&gt;<em>Sublanguage highlight requires <code>autoDetect</code> to be enabled and <code>lang</code> to be unset</em></td><td style="text-align: right">false</td></tr><tr><td style="text-align: right"><code>mark</code></td><td style="text-align: right">Line highlight specific line(s)</td><td style="text-align: right"></td></tr></table><h3 id="htmlTag(tag,-attrs,-text,-escape)"><a class="docs-heading-anchor" href="#htmlTag(tag,-attrs,-text,-escape)">htmlTag(tag, attrs, text, escape)</a><a id="htmlTag(tag,-attrs,-text,-escape)-1"></a><a class="docs-heading-anchor-permalink" href="#htmlTag(tag,-attrs,-text,-escape)" title="Permalink"></a></h3><p>Creates a html tag.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>tag</code></td><td style="text-align: right">Tag / element name</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>attrs</code></td><td style="text-align: right">Attribute(s) and its value.&lt;br&gt;Value is always <a href="#escapehtmlstr">escaped</a>, URL is always <a href="#encodeurlstr">encoded</a>.</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>text</code></td><td style="text-align: right">Text, the value is always escaped&lt;br&gt;<em>(except for <code>&lt;style&gt;</code> tag)</em></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>escape</code></td><td style="text-align: right">Whether to escape the text</td><td style="text-align: right">true</td></tr></table><pre><code class="language-js">htmlTag(&#39;img&#39;, {src: &#39;example.png&#39;})
// &lt;img src=&quot;example.png&quot;&gt;

htmlTag(&#39;a&#39;, {href: &#39;http://hexo.io/&#39;}, &#39;Hexo&#39;)
// &lt;a href=&quot;http://hexo.io/&quot;&gt;Hexo&lt;/a&gt;

htmlTag(&#39;link&#39;, {href: &#39;http://foo.com/&#39;}, &#39;&lt;a&gt;bar&lt;/a&gt;&#39;)
// &lt;a href=&quot;http://foo.com/&quot;&gt;&amp;lt;bar&amp;gt;&lt;/a&gt;

htmlTag(&#39;a&#39;, {href: &#39;http://foo.com/&#39;}, &#39;&lt;b&gt;bold&lt;/b&gt;&#39;, false)
// &lt;a href=&quot;http://foo.com/&quot;&gt;&lt;b&gt;bold&lt;/b&gt;&lt;/a&gt;

/* text value of &lt;style&gt; won&#39;t be escaped, url is still encoded */
htmlTag(&#39;style&#39;, {}, &#39;p { content: &quot;&lt;&quot;; background: url(&quot;bár.jpg&quot;); }&#39;)
// &lt;style&gt;p { content: &quot;&lt;&quot;; background: url(&quot;b%C3%A1r.jpg&quot;); }&lt;/style&gt;

/* support script tag with async/defer */
htmlTag(&#39;script&#39;, {src: &#39;/foo.js&#39;, async: true}, &#39;&#39;)
// &lt;script src=&quot;/foo.js&quot; async&gt;&lt;/script&gt;</code></pre><h3 id="isExternalLink(url,-sitehost,-[exclude])"><a class="docs-heading-anchor" href="#isExternalLink(url,-sitehost,-[exclude])">isExternalLink(url, sitehost, [exclude])</a><a id="isExternalLink(url,-sitehost,-[exclude])-1"></a><a class="docs-heading-anchor-permalink" href="#isExternalLink(url,-sitehost,-[exclude])" title="Permalink"></a></h3><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>url</code></td><td style="text-align: right">The input URL.</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>sitehost</code></td><td style="text-align: right">The hostname / url of website. You can also pass <code>hexo.config.url</code>.</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>exclude</code></td><td style="text-align: right">Exclude hostnames. Specific subdomain is required when applicable, including www.</td><td style="text-align: right"><code>[]</code></td></tr></table><p>Returns if a given url is external link relative to given <code>sitehost</code> and <code>[exclude]</code>.</p><pre><code class="language-js">// &#39;sitehost&#39; can be a domain or url
isExternalLink(&#39;https://example.com&#39;, &#39;example.com&#39;);
// false
isExternalLink(&#39;https://example.com&#39;, &#39;https://example.com&#39;);
// false
isExternalLink(&#39;https://example.com&#39;, &#39;//example.com/blog/&#39;);
// false</code></pre><pre><code class="language-js">isExternalLink(&#39;/archives/foo.html&#39;, &#39;example.com&#39;);
// false
isExternalLink(&#39;https://foo.com/&#39;, &#39;example.com&#39;);
// true</code></pre><pre><code class="language-js">isExternalLink(&#39;https://foo.com&#39;, &#39;example.com&#39;, [&#39;foo.com&#39;, &#39;bar.com&#39;]);
// false
isExternalLink(&#39;https://bar.com&#39;, &#39;example.com&#39;, [&#39;foo.com&#39;, &#39;bar.com&#39;]);
// false
isExternalLink(&#39;https://baz.com/&#39;, &#39;example.com&#39;, [&#39;foo.com&#39;, &#39;bar.com&#39;]);
// true</code></pre><h3 id="Pattern(rule)"><a class="docs-heading-anchor" href="#Pattern(rule)">Pattern(rule)</a><a id="Pattern(rule)-1"></a><a class="docs-heading-anchor-permalink" href="#Pattern(rule)" title="Permalink"></a></h3><p>Parses the string and tests if the string matches the rule. <code>rule</code> can be a string, a regular expression or a function.</p><pre><code class="language-js">var pattern = new Pattern(&#39;posts/:id&#39;);

pattern.match(&#39;posts/89&#39;);
// {0: &#39;posts/89&#39;, 1: &#39;89&#39;, id: &#39;89&#39;}</code></pre><pre><code class="language-js">var pattern = new Pattern(&#39;posts/*path&#39;);

pattern.match(&#39;posts/2013/hello-world&#39;);
// {0: &#39;posts/2013/hello-world&#39;, 1: &#39;2013/hello-world&#39;, path: &#39;2013/hello-world&#39;}</code></pre><h3 id="Permalink(rule,-[options])"><a class="docs-heading-anchor" href="#Permalink(rule,-[options])">Permalink(rule, [options])</a><a id="Permalink(rule,-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#Permalink(rule,-[options])" title="Permalink"></a></h3><p>Parses a permalink.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>segments</code></td><td style="text-align: right">Customize the rule of a segment in the permalink</td></tr></table><pre><code class="language-js">var permalink = new Permalink(&#39;:year/:month/:day/:title&#39;, {
  segments: {
    year: /(\d{4})/,
    month: /(\d{2})/,
    day: /(\d{2})/
  }
});

permalink.parse(&#39;2014/01/31/test&#39;);
// {year: &#39;2014&#39;, month: &#39;01&#39;, day: &#39;31&#39;, title: &#39;test&#39;}

permalink.test(&#39;2014/01/31/test&#39;);
// true

permalink.stringify({year: &#39;2014&#39;, month: &#39;01&#39;, day: &#39;31&#39;, title: &#39;test&#39;})
// 2014/01/31/test</code></pre><h3 id="prettyUrls(url,-[options])"><a class="docs-heading-anchor" href="#prettyUrls(url,-[options])">prettyUrls(url, [options])</a><a id="prettyUrls(url,-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#prettyUrls(url,-[options])" title="Permalink"></a></h3><p>Rewrite urls to pretty URLs.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>trailing_index</code></td><td style="text-align: right"><code>/about/index.html -&gt; /about/</code> when <code>false</code></td><td style="text-align: right"><code>true</code></td></tr><tr><td style="text-align: right"><code>trailing_html</code></td><td style="text-align: right"><code>/about.html -&gt; /about</code> when <code>false</code></td><td style="text-align: right"><code>true</code></td></tr></table><p>Note: <code>trailing_html</code> ignores any link with a trailing <code>index.html</code>. (will not be rewritten to <code>index</code>).</p><pre><code class="language-js">prettyUrls(&#39;/foo/bar.html&#39;);
// /foo/bar.html
prettyUrls(&#39;/foo/bar/index.html&#39;);
// /foo/bar/index.html

prettyUrls(&#39;/foo/bar.html&#39;, { trailing_index: false });
// /foo/bar.html
prettyUrls(&#39;/foo/bar/index.html&#39;, { trailing_index: false });
// /foo/bar/

prettyUrls(&#39;/foo/bar.html&#39;, { trailing_html: false });
// /foo/bar
prettyUrls(&#39;/foo/bar/index.html&#39;, { trailing_html: false });
// /foo/bar/index.html

prettyUrls(&#39;/foo/bar.html&#39;, { trailing_index: false, trailing_html: false });
// /foo/bar
prettyUrls(&#39;/foo/bar/index.html&#39;, { trailing_index: false, trailing_html: false });
// /foo/bar/</code></pre><h3 id="prismHighlight(str,-[options])"><a class="docs-heading-anchor" href="#prismHighlight(str,-[options])">prismHighlight(str, [options])</a><a id="prismHighlight(str,-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#prismHighlight(str,-[options])" title="Permalink"></a></h3><p>Syntax highlighting for a code block using PrismJS.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>lineNumber</code></td><td style="text-align: right">Whether to show line numbers</td><td style="text-align: right">true</td></tr><tr><td style="text-align: right"><code>lang</code></td><td style="text-align: right">Language</td><td style="text-align: right"><code>&#39;none&#39;</code></td></tr><tr><td style="text-align: right"><code>tab</code></td><td style="text-align: right">Replace tabs</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>isPreprocess</code></td><td style="text-align: right">Enable preprocess or not</td><td style="text-align: right">true</td></tr><tr><td style="text-align: right"><code>mark</code></td><td style="text-align: right">Highlight specific line</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>firstLine</code></td><td style="text-align: right">First line number</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>caption</code></td><td style="text-align: right">Caption</td><td style="text-align: right"></td></tr></table><p>When <code>isPreprocess</code> is enabled, <code>prismHighlight()</code> will return PrismJS processed HTML snippet. Otherwise <code>str</code> will only be escaped and <code>prismHighlight()</code> will return the HTML snippet that is suitable for <code>prism.js</code> working in the Browser.</p><p><code>mark</code> and <code>firstLine</code> options will have effect only when <code>isPreprocess</code> is disabled.</p><h3 id="relative_url(from,-to)"><a class="docs-heading-anchor" href="#relative_url(from,-to)">relative_url(from, to)</a><a id="relative_url(from,-to)-1"></a><a class="docs-heading-anchor-permalink" href="#relative_url(from,-to)" title="Permalink"></a></h3><p>Returns the relative URL from <code>from</code> to <code>to</code>. Output is <a href="#encodeurlstr">encoded</a> automatically. Requires <a href="#bindhexo"><code>bind(hexo)</code></a>.</p><pre><code class="language-js">relative_url(&#39;foo/bar/&#39;, &#39;css/style.css&#39;)
// ../../css/style.css</code></pre><h3 id="slugize(str,-[options])"><a class="docs-heading-anchor" href="#slugize(str,-[options])">slugize(str, [options])</a><a id="slugize(str,-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#slugize(str,-[options])" title="Permalink"></a></h3><p>Transforms a string into a clean URL-friendly string.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>separator</code></td><td style="text-align: right">Separator</td><td style="text-align: right">-</td></tr><tr><td style="text-align: right"><code>transform</code></td><td style="text-align: right">Transform the string into lower case (<code>1</code>) or upper case (<code>2</code>)</td><td style="text-align: right"></td></tr></table><pre><code class="language-js">slugize(&#39;Hello World&#39;) = &#39;Hello-World&#39;
slugize(&#39;Hellô Wòrld&#39;) = &#39;Hello-World&#39;
slugize(&#39;Hello World&#39;, {separator: &#39;_&#39;}) = &#39;Hello_World&#39;
slugize(&#39;Hello World&#39;, {transform: 1}) = &#39;hello-world&#39;
slugize(&#39;Hello World&#39;, {transform: 2}) = &#39;HELLO-WORLD&#39;</code></pre><h3 id="spawn(command,-[args],-[options])"><a class="docs-heading-anchor" href="#spawn(command,-[args],-[options])">spawn(command, [args], [options])</a><a id="spawn(command,-[args],-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#spawn(command,-[args],-[options])" title="Permalink"></a></h3><p>Launches a new process with the given <code>command</code>. This method returns a promise.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>cwd</code></td><td style="text-align: right">Current working directory of the child process</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>env</code></td><td style="text-align: right">Environment key-value pairs</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>stdio</code></td><td style="text-align: right">Child&#39;s stdio configuration</td><td style="text-align: right"><code>pipe</code></td></tr><tr><td style="text-align: right"><code>detached</code></td><td style="text-align: right">The child will be a process group leader</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>uid</code></td><td style="text-align: right">Sets the user identity of the process</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>gid</code></td><td style="text-align: right">Sets the group identity of the process</td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><code>verbose</code></td><td style="text-align: right">Display messages on the console</td><td style="text-align: right"><code>false</code></td></tr><tr><td style="text-align: right"><code>encoding</code></td><td style="text-align: right">Sets the encoding of the output string</td><td style="text-align: right"><code>utf8</code></td></tr></table><p>More info: <a href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a></p><pre><code class="language-js">spawn(&#39;cat&#39;, &#39;test.txt&#39;).then((content) =&gt; {
  console.log(content);
});

// $ cd &quot;/target/folder&quot;
// $ cat &quot;foo.txt&quot; &quot;bar.txt&quot;
spawn(&#39;cat&#39;, [&#39;foo.txt&#39;, &#39;bar.txt&#39;], { cwd: &#39;/target/folder&#39; }).then((content) =&gt; {
  console.log(content);
});</code></pre><h3 id="stripHTML(str)"><a class="docs-heading-anchor" href="#stripHTML(str)">stripHTML(str)</a><a id="stripHTML(str)-1"></a><a class="docs-heading-anchor-permalink" href="#stripHTML(str)" title="Permalink"></a></h3><p>Removes HTML tags in a string.</p><h3 id="stripIndent(str)"><a class="docs-heading-anchor" href="#stripIndent(str)">stripIndent(str)</a><a id="stripIndent(str)-1"></a><a class="docs-heading-anchor-permalink" href="#stripIndent(str)" title="Permalink"></a></h3><p>Strip leading whitespace from each line in a string. The line with the least number of leading whitespace, ignoring empty lines, determines the number to remove. Useful for removing redundant indentation.</p><h3 id="wordWrap(str,-[options])"><a class="docs-heading-anchor" href="#wordWrap(str,-[options])">wordWrap(str, [options])</a><a id="wordWrap(str,-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#wordWrap(str,-[options])" title="Permalink"></a></h3><p>Wraps the string no longer than line width. This method breaks on the first whitespace character that does not exceed line width.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>width</code></td><td style="text-align: right">Line width</td><td style="text-align: right">80</td></tr></table><pre><code class="language-js">wordWrap(&#39;Once upon a time&#39;)
// Once upon a time

wordWrap(&#39;Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding a successor to the throne turned out to be more trouble than anyone could have imagined...&#39;)
// Once upon a time, in a kingdom called Far Far Away, a king fell ill, and finding\na successor to the throne turned out to be more trouble than anyone could have\nimagined...

wordWrap(&#39;Once upon a time&#39;, {width: 8})
// Once\nupon a\ntime

wordWrap(&#39;Once upon a time&#39;, {width: 1})
// Once\nupon\na\ntime</code></pre><h3 id="tocObj(str,-[options])"><a class="docs-heading-anchor" href="#tocObj(str,-[options])">tocObj(str, [options])</a><a id="tocObj(str,-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#tocObj(str,-[options])" title="Permalink"></a></h3><p>Generate a table of contents in JSON format based on the given html string.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>min_depth</code></td><td style="text-align: right">The minimum level of TOC</td><td style="text-align: right">1</td></tr><tr><td style="text-align: right"><code>max_depth</code></td><td style="text-align: right">The maximum level of TOC</td><td style="text-align: right">6</td></tr></table><pre><code class="language-js">const html = [
  &#39;&lt;h1 id=&quot;title_1&quot;&gt;Title 1&lt;/h1&gt;&#39;,
  &#39;&lt;div id=&quot;title_1_1&quot;&gt;&lt;h2&gt;Title 1.1&lt;/h2&gt;&lt;/div&gt;&#39;,
  &#39;&lt;h3 id=&quot;title_1_1_1&quot;&gt;Title 1.1.1&lt;/h3&gt;&#39;,
  &#39;&lt;h2 id=&quot;title_1_2&quot;&gt;Title 1.2&lt;/h2&gt;&#39;,
  &#39;&lt;h2 id=&quot;title_1_3&quot;&gt;Title 1.3&lt;/h2&gt;&#39;,
  &#39;&lt;h3 id=&quot;title_1_3_1&quot;&gt;Title 1.3.1&lt;/h3&gt;&#39;,
  &#39;&lt;h1 id=&quot;title_2&quot;&gt;Title 2&lt;/h1&gt;&#39;,
  &#39;&lt;h2 id=&quot;title_2_1&quot;&gt;Title 2.1&lt;/h2&gt;&#39;
].join(&#39;\n&#39;);

tocObj(html);
/*
[
  { text: &#39;Title 1&#39;, id: &#39;title_1&#39;, level: 1 },
  { text: &#39;Title 1.1&#39;, id: &#39;title_1_1&#39;, level: 2 },
  { text: &#39;Title 1.1.1&#39;, id: &#39;title_1_1_1&#39;, level: 3 },
  { text: &#39;Title 1.2&#39;, id: &#39;title_1_2&#39;, level: 2 },
  { text: &#39;Title 1.3&#39;, id: &#39;title_1_3&#39;, level: 2 },
  { text: &#39;Title 1.3.1&#39;, id: &#39;title_1_3_1&#39;, level: 3 },
  { text: &#39;Title 2&#39;, id: &#39;title_2&#39;, level: 1 },
  { text: &#39;Title 2.1&#39;, id: &#39;title_2_1&#39;, level: 2 },
]
*/

tocObj(html, { min_depth: 2 });
/*
[
  { text: &#39;Title 1.1&#39;, id: &#39;title_1_1&#39;, level: 2 },
  { text: &#39;Title 1.1.1&#39;, id: &#39;title_1_1_1&#39;, level: 3 },
  { text: &#39;Title 1.2&#39;, id: &#39;title_1_2&#39;, level: 2 },
  { text: &#39;Title 1.3&#39;, id: &#39;title_1_3&#39;, level: 2 },
  { text: &#39;Title 1.3.1&#39;, id: &#39;title_1_3_1&#39;, level: 3 },
  { text: &#39;Title 2.1&#39;, id: &#39;title_2_1&#39;, level: 2 },
]
*/

tocObj(html, { max_depth: 2 });
/*
[
  { text: &#39;Title 1&#39;, id: &#39;title_1&#39;, level: 1 },
  { text: &#39;Title 1.1&#39;, id: &#39;title_1_1&#39;, level: 2 },
  { text: &#39;Title 1.2&#39;, id: &#39;title_1_2&#39;, level: 2 },
  { text: &#39;Title 1.3&#39;, id: &#39;title_1_3&#39;, level: 2 },
  { text: &#39;Title 2&#39;, id: &#39;title_2&#39;, level: 1 },
  { text: &#39;Title 2.1&#39;, id: &#39;title_2_1&#39;, level: 2 },
]
*/</code></pre><h3 id="truncate(str,-[options])"><a class="docs-heading-anchor" href="#truncate(str,-[options])">truncate(str, [options])</a><a id="truncate(str,-[options])-1"></a><a class="docs-heading-anchor-permalink" href="#truncate(str,-[options])" title="Permalink"></a></h3><p>Truncates a given text after a given <code>length</code> if text is longer than <code>length</code>. The last characters will be replaced with the <code>omission</code> option for a total length not exceeding <code>length</code>.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>length</code></td><td style="text-align: right">Max length of the string</td><td style="text-align: right">30</td></tr><tr><td style="text-align: right"><code>omission</code></td><td style="text-align: right">Omission text</td><td style="text-align: right">...</td></tr><tr><td style="text-align: right"><code>separator</code></td><td style="text-align: right">truncate text at a natural break</td><td style="text-align: right"></td></tr></table><pre><code class="language-js">truncate(&#39;Once upon a time in a world far far away&#39;)
// &quot;Once upon a time in a world...&quot;

truncate(&#39;Once upon a time in a world far far away&#39;, {length: 17})
// &quot;Once upon a ti...&quot;

truncate(&#39;Once upon a time in a world far far away&#39;, {length: 17, separator: &#39; &#39;})
// &quot;Once upon a...&quot;

truncate(&#39;And they found that many people were sleeping better.&#39;, {length: 25, omission: &#39;... (continued)&#39;})
// &quot;And they f... (continued)&quot;</code></pre><h3 id="unescapeHTML(str)"><a class="docs-heading-anchor" href="#unescapeHTML(str)">unescapeHTML(str)</a><a id="unescapeHTML(str)-1"></a><a class="docs-heading-anchor-permalink" href="#unescapeHTML(str)" title="Permalink"></a></h3><p>Unescapes HTML entities in a string.</p><pre><code class="language-js">unescapeHTML(&#39;&amp;lt;p&amp;gt;Hello &amp;quot;world&amp;quot;.&amp;lt;&amp;#x2F;p&amp;gt;&#39;)
// &lt;p&gt;Hello &quot;world&quot;.&lt;/p&gt;</code></pre><h3 id="url_for(path,-[option])"><a class="docs-heading-anchor" href="#url_for(path,-[option])">url_for(path, [option])</a><a id="url_for(path,-[option])-1"></a><a class="docs-heading-anchor-permalink" href="#url_for(path,-[option])" title="Permalink"></a></h3><p>Returns a url with the root path prefixed. Output is <a href="#encodeurlstr">encoded</a> automatically. Requires <a href="#bindhexo"><code>bind(hexo)</code></a>.</p><table><tr><th style="text-align: right">Option</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>relative</code></td><td style="text-align: right">Output relative link</td><td style="text-align: right">Value of <code>config.relative_link</code></td></tr></table><pre><code class="language-yml">_config.yml
root: /blog/ # example</code></pre><pre><code class="language-js">url_for(&#39;/a/path&#39;)
// /blog/a/path</code></pre><p>Relative link, follows <code>relative_link</code> option by default e.g. post/page path is &#39;/foo/bar/index.html&#39;</p><pre><code class="language-yml">_config.yml
relative_link: true</code></pre><pre><code class="language-js">url_for(&#39;/css/style.css&#39;)
// ../../css/style.css

/* Override option
 * you could also disable it to output a non-relative link,
 * even when `relative_link` is enabled and vice versa.
 */
url_for(&#39;/css/style.css&#39;, {relative: false})
// /css/style.css</code></pre><h2 id="bind(hexo)"><a class="docs-heading-anchor" href="#bind(hexo)">bind(hexo)</a><a id="bind(hexo)-1"></a><a class="docs-heading-anchor-permalink" href="#bind(hexo)" title="Permalink"></a></h2><p>Following utilities require <code>bind(hexo)</code> / <code>bind(this)</code> / <code>call(hexo, input)</code> / <code>call(this, input)</code> to parse the user config when initializing:</p><ul><li><a href="#full_url_forpath"><code>full_url_for()</code></a></li><li><a href="#url_forpath"><code>url_for()</code></a></li><li><a href="#relative_urlfrom-to"><code>relative_url()</code></a></li></ul><p>Below examples demonstrate different approaches to creating a <a href="https://hexo.io/api/helper">helper</a> (each example is separated by <code>/******/</code>),</p><pre><code class="language-js">// Single function
const url_for = require(&#39;hexo-util&#39;).url_for.bind(hexo);

hexo.extend.helper.register(&#39;test_url&#39;, (str) =&gt; {
  return url_for(str);
})


/******/
// Multiple functions
const url_for = require(&#39;hexo-util&#39;).url_for.bind(hexo)

function testurlHelper(str) {
  return url_for(str);
}

hexo.extend.helper.register(&#39;test_url&#39;, testurlHelper);


/******/
// Functions separated into different files.
// test_url.js
module.exports = function(str) {
  const url_for = require(&#39;hexo-util&#39;).url_for.bind(this);
  return url_for(str);
}

// index.js
hexo.extend.helper.register(&#39;test_url&#39;, require(&#39;./test_url&#39;));


/******/
// Function.call() approach also works
const {url_for} = require(&#39;hexo-util&#39;);
module.exports = function(str) {
  return url_for.call(this, str);
}

hexo.extend.helper.register(&#39;test_url&#39;, require(&#39;./test_url&#39;));


/******/
// Separating functions into individual files
// Each file has multiple functions
// test_url.js
function testurlHelper(str) {
  const url_for = require(&#39;hexo-util&#39;).url_for.bind(this);
  return url_for(str);
}

module.exports =  {
  testurlHelper: testurlHelper
}

// index.js
hexo.extend.helper.register(&#39;test_url&#39;, require(&#39;./test_url&#39;).testurlHelper);</code></pre><h2 id="License"><a class="docs-heading-anchor" href="#License">License</a><a id="License-1"></a><a class="docs-heading-anchor-permalink" href="#License" title="Permalink"></a></h2><p>MIT</p><p>[Hexo]: http://hexo.io/</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 25 May 2021 01:27">Tuesday 25 May 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
